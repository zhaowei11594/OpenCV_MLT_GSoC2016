<!-- Close the close the toggleable_div containing the text / code associated with the last button.-->
</div>

<!-- Close the start_toggle_zone div -->
</div>

<script>

if(document.getElementsByClassName("end_toggle_zone").length == 0){
   
   // If it's the end of the first toggle zone
   // when the document is ready generates all the buttons

   window.onload = function () {

      var button_clicked_by_default;
      
      var start_toggle_zone_Div = document.getElementsByClassName("start_toggle_zone");
      
      for(var i=0; i<start_toggle_zone_Div.length; i++) {
      
         var innerHTML_elements = start_toggle_zone_Div[i].getElementsByClassName("newInnerHTML");
         var str;

         for(var j=0; j<innerHTML_elements.length; j++) {
         
            str = '';
            str = innerHTML_elements[j].innerHTML;
      
            // The innerHTML will be used to the labeling of the buttons
            // Trimming the beginning and end of the innerHTML
            
            str = trim(str);
  
	    innerHTML_elements[j].innerHTML = str;
         }

         // The innerHTML_elements are set in Alphabetic Order
	 
         innerHTML_elements = alphabeticOrderElements(innerHTML_elements);

         // The innerHTML_elements are converted to buttons

         for(j=(innerHTML_elements.length-1); j>=0; j--) {
         
            str = '';
            str = innerHTML_elements[j].innerHTML;


            // create a button

            var btn = document.createElement("BUTTON");

            // borders style

            btn.style.border='2px inset';
            btn.style.borderRadius='4px';

            // margin between buttons

            btn.style.margin='2px';

            // define text to show (same as user input in the doxygen command)

            var t = document.createTextNode(str);
 	    btn.appendChild(t);

	    // get label name from innerHTML

            var label = getLabelName(str);
	    str = 'toggleable_button label_' + label;
            btn.className = str;

            // Define the onclick function inside a function to use the 'label' as a local variable
            // Does it make difference?

	    (function() {

               var tmpstr = innerHTML_elements[j].innerHTML;
               var tmpLabel = getLabelName(tmpstr);

               btn.onclick= function() {
                  $('.toggleable_button').css({border: '2px outset', 'border-radius': '4px'});
                  $('.toggleable_button.label_' + tmpLabel).css({border: '2px inset', 'border-radius': '4px'});
                  $('.toggleable_div').css('display', 'none');
                  $('.toggleable_div.label_' + tmpLabel).css('display', 'block');
               };

            })();

            // Append the button

            start_toggle_zone_Div[i].insertBefore(btn, start_toggle_zone_Div[i].childNodes[0]);

            if(label.toLowerCase().localeCompare("cpp") == 0){

               button_clicked_by_default = btn;

            }else if(label.toLowerCase().localeCompare("python") == 0 && button_clicked_by_default == null){

              button_clicked_by_default = btn;

            }else if(i==0 && j==0 && button_clicked_by_default == null){

               button_clicked_by_default = btn;

            }

         }
      }
     // Click default button

      button_clicked_by_default.click();
   }

   // Trims the string
   
   function trim(tmpstr) {

      var stop = false;
      var str = '';
      var firstIndex = 0;
      var lastIndex = tmpstr.length;

      // Finds first character that is not a space

      for(var i=0; i<lastIndex && !stop; i++){
         
         if(tmpstr.charAt(i) !== ' '){
         
            firstIndex = i;
            stop=true;
         }
      }

      stop = false;

      // Finds last character that is not a space

      for(i=lastIndex - 1; i>firstIndex && !stop; i--){
   
         if(tmpstr.charAt(i) !== ' '){
    
            lastIndex = i;
            stop=true;
         }
      }

      // Copies the trimmed part
   
      for(i=firstIndex; i < tmpstr.length && i<(lastIndex + 1); i++){
      
         str+=tmpstr[i];
      }

      return str;
   }

   // Sorting elements using bubble sort

   function alphabeticOrderElements(elements) {
      
      var str1;
      var str2;
      var n = elements.length;
      var swapped = true;

      while (swapped) {
      
         swapped = false;
      
         for(i=1; i<n; i++) {
            
            str1 = elements[i-1].innerHTML;
            str2 = elements[i].innerHTML;
        
            if(myStringCompare(str1,str2)>0){
      	 
               elements[i].innerHTML = str1;
      	       elements[i-1].innerHTML = str2;
	       swapped = true;
            }
         }
         
         n--;
      }

      return elements;
   }
}

// Label Names must avoid special characters
// This function replaces:
// '+' with 'p',
// '#' with 'sharp'
// ' ' with '_'
// other special characters by 'ASCII' + ascii code

function getLabelName(innerHTML) {
   
   // copy the string
   
   var str = '';
   str = innerHTML;
   
   var charCode;
   
   // reads character by character
   
   for(var i=0; i<str.length; i++){
       
      charCode = str.charCodeAt(i);
      
      if(charCode>96 && charCode<123){
        
           // If a lower case, do nothing

      }else if(charCode>64 && charCode<91){

           // Else If a upper case, do nothing

      }else if(charCode>47 && charCode<58){

           // Else If a number, do nothing

      }else if(charCode == 95){

           // Else If a underscore, do nothing

      }else if(charCode == 43){
          
           // Else If a '+' substitute with a 'p'

           str = str.substr(0, i) + 'p' + str.substr(i+1);

           // In this case a button called C++ will be labeled Cpp

      }else if(charCode == 35){

           // Else If a '#' substitute with 'sharp'

          str = str.substr(0, i) + 'sharp' + str.substr(i+1);

          // In this case a button called C# will be labeled Csharp

       }else if(charCode == 32){

           // Else If a ' ' substitute with a '_'

          str = str.substr(0, i) + '_' + str.substr(i+1);

       }else{

           // Else If a ' ' substitute with 'ASCII' + ascii code
           
          str = str.substr(0, i) + 'ASCII' + charCode + str.substr(i+1);
       }
   }
   
   return str;
   
}

// string comparison that takes into account the numbers
// so that, for example: 'string 9' comes first than 'string 10'

function myStringCompare(str1, str2) {

   var value = -1;
   var str1_tmp_char;
   var str2_tmp_char;
   var smaller = str1.length;
   
   var int1;
   var int2;

   if(str2.length == smaller){
      
      value = 0;
   
   }else if(str2.length < smaller){

      smaller = str2.length;
      value = 1;
   }

   for(var i=0; i<smaller; i++){

      str1_tmp_char = str1.charAt(i);
      str2_tmp_char = str2.charAt(i);

      if(isNaN(str1_tmp_char) || isNaN(str2_tmp_char)){

         // if not numbers do normal character comparison

         if(str1_tmp_char < str2_tmp_char){

            return -1;

         }else if(str1_tmp_char > str2_tmp_char){
         
            return 1;  
 
         }

      }else{

         // if numbers, parse the first number in the string
         // before other characters

         int1 = parseInt(str1.substring(i));
         int2 = parseInt(str2.substring(i));

         if(int1 < int2){

            return -1;

         }else if(int1 > int2){

            return 1;
         }
      }
   }
   
   return value;
}

</script>

<div class="end_toggle_zone"></div>
